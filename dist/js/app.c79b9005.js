(function(t){function e(e){for(var o,i,l=e[0],s=e[1],c=e[2],d=0,v=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(o=!1)}o&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},r={app:0},n=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-app-book-store-new/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"4d31":function(t,e,a){"use strict";a("8325")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("transition",{attrs:{mode:"out-in","enter-active-class":"animate__animated animate__fadeInLeft","leave-active-class":"animate__animated animate__fadeOutRight"}},[a("router-view")],1),a("Alert")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{padding:"0"},attrs:{fluid:""}},[a("v-app-bar",{staticClass:"px-4",attrs:{color:"blue-grey darken-4",dark:""}},[a("router-link",{staticClass:"text--lighten-3",staticStyle:{color:"teal","text-decoration":"none"},attrs:{to:"/"}},[a("h2",[t._v("BOOKSTORE")])]),a("v-spacer"),a("router-link",{staticStyle:{"text-decoration":"none",color:"teal"},attrs:{to:"/cart"}},[a("v-icon",{staticClass:"mr-2",attrs:{dark:""}},[t._v(" mdi-cart-variant ")]),a("span",[t._v(t._s(t.getCartItems.length)+" items")]),a("span",{staticClass:"ml-2"},[t._v("("+t._s(t.getTotal)+" UAH)")])],1)],1)],1)},l=[],s=a("5530"),c=a("2f62"),u={name:"Navbar",computed:Object(s["a"])({},Object(c["c"])(["getCartItems","getTotal"]))},d=u,v=a("2877"),m=a("6544"),p=a.n(m),f=a("40dc"),b=a("a523"),g=a("132d"),h=a("2fa4"),k=Object(v["a"])(d,i,l,!1,null,null,null),x=k.exports;p()(k,{VAppBar:f["a"],VContainer:b["a"],VIcon:g["a"],VSpacer:h["a"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.$store.getters.getAlert?a("v-alert",{staticStyle:{position:"fixed",left:"35%"},attrs:{color:"teal",dense:"",dismissible:"",type:"info"}},[t._v("Ваш заказ на сумму "+t._s(this.$store.getters.getTotalOrder)+" оформлен! ")]):t._e()],1)},C=[],V={name:"Alert"},y=V,O=(a("4d31"),a("0798")),j=Object(v["a"])(y,_,C,!1,null,"57090b4d",null),B=j.exports;p()(j,{VAlert:O["a"]});var w={name:"App",components:{Alert:B,Navbar:x}},T=w,I=a("7496"),S=Object(v["a"])(T,r,n,!1,null,null,null),L=S.exports;p()(S,{VApp:I["a"]});var A=a("8c4f"),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"my-7"},[a("SearchForm"),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"500"},model:{value:t.getLoading,callback:function(e){t.getLoading=e},expression:"getLoading"}},[a("v-card",{attrs:{color:"blue-grey darken-4",dark:""}},[a("v-card-text",[t._v(" Please stand by "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"teal"}})],1)],1)],1),t.getLoading?t._e():a("div",[t.getSearchBooks.length>0?a("div",[a("v-divider",{staticClass:"my-5"}),a("h2",[t._v('Результаты поиска по слову: "'+t._s(t.getSearchText)+'"')]),a("v-divider",{staticClass:"my-5"}),a("BookList",{attrs:{books:t.getSearchBooks},on:{openBookForm:t.openBookDialog}})],1):a("div",[a("h2",[t._v('Для поиска книг введите текст и нажмите кнопку "Отправить"')])])])],1)},D=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",t._l(t.books,(function(e){return a("BookItem",{key:e.id,attrs:{book:e},on:{openBook:function(e){t.dialogVisible=!0}}})})),1),a("BookDialog",{attrs:{book:t.getCurrentBook},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}})],1)},F=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"d-flex flex-column justify-space-between fill-height"},[a("v-img",{attrs:{contain:"","aspect-ratio":"1.5",src:t.book.image}}),a("v-divider"),a("v-card-title",[t._v(t._s(t.book.title))]),a("v-card-text",{staticClass:"mt-auto"},[a("h3",{staticClass:"mb-2"},[t._v(t._s(t.book.authors))]),a("h3",{staticClass:"text-center"},[t._v(t._s(t.book.publishedDate))])]),a("v-divider"),a("div",{staticClass:"d-flex justify-center mt-5 mb-5"},[t.book.price>0?a("v-btn",{staticClass:"white--text",attrs:{color:"teal",large:""},on:{click:function(e){return e.stopPropagation(),t.openBookForm.apply(null,arguments)}}},[t._v("Заказать")]):a("v-btn",{attrs:{disabled:""},on:{click:function(e){return e.stopPropagation(),t.openBookForm.apply(null,arguments)}}},[t._v("Нет в наличии")])],1)],1)],1)},R=[],X={name:"BookItem",props:{book:{type:Object,required:!0}},methods:{openBookForm:function(){this.$store.commit("setCurrentBook",this.book),this.$emit("openBook")}}},q=X,M=a("8336"),H=a("b0af"),J=a("99d9"),N=a("62ad"),U=a("ce7e"),K=a("adda"),z=Object(v["a"])(q,E,R,!1,null,null,null),G=z.exports;p()(z,{VBtn:M["a"],VCard:H["a"],VCardText:J["a"],VCardTitle:J["b"],VCol:N["a"],VDivider:U["a"],VImg:K["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("v-card",[a("v-card-title",{staticClass:"justify-center"},[t._v("Заказ книги")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-img",{attrs:{contain:"","aspect-ratio":"1.7",src:t.book.image}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",{staticStyle:{"text-indent":"20px"}},[t._v(t._s(t.book.description))])])],1),a("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Имя",placeholder:"Вадим",counter:20,rules:t.nameRules,"solo-inverted":"",color:"teal",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{placeholder:"test@mail.com",rules:t.emailRules,label:"E-mail","solo-inverted":"",color:"teal",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"tel",label:"Телефон",placeholder:"+38XXXXXXXXXX",rules:t.phoneRules,"solo-inverted":"",color:"teal",required:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),a("v-row",{staticClass:"justify-center "},[a("v-btn",{staticClass:"my-2 white--text",attrs:{type:"submit",color:"teal",disabled:!t.valid,large:""},on:{click:function(e){return t.addToCart(t.book)}}},[t._v("Отправить ")])],1)],1)],1)],1)],1)],1)],1)},W=[],Y={name:"BookDialog",props:{value:{type:Boolean,default:!1},book:{type:Object,required:!0}},created:function(){this.dialogVisible=this.value},data:function(){return{dialogVisible:!1,valid:!0,name:"",nameRules:[function(t){return!!t||"Имя не може быть пустым"},function(t){return t&&t.length<=20||"Имя может содержать не более 20 символов"}],email:"",emailRules:[function(t){return!!t||"E-mail не может быть пустым"},function(t){return/.+@.+\..+/.test(t)||"E-mail должен быть валидным"}],phone:"",phoneRules:[function(t){return!!t||"Телефон должен быть заполнен"},function(t){return/^\+?3?8?(0\d{9})$/.test(t)||"Телефон может начинаться на +38 и содержать только цифры и + вначале"}]}},methods:Object(s["a"])(Object(s["a"])({},Object(c["d"])(["addBookToCart"])),{},{addToCart:function(t){this.addBookToCart(t),this.$router.push("/cart")}}),watch:{value:function(t){this.dialogVisible=t},dialogVisible:function(t){this.$emit("input",t)}}},Z=Y,tt=a("169a"),et=a("4bd4"),at=a("0fd9"),ot=a("8654"),rt=Object(v["a"])(Z,Q,W,!1,null,null,null),nt=rt.exports;p()(rt,{VBtn:M["a"],VCard:H["a"],VCardText:J["a"],VCardTitle:J["b"],VCol:N["a"],VContainer:b["a"],VDialog:tt["a"],VForm:et["a"],VImg:K["a"],VRow:at["a"],VTextField:ot["a"]});var it={name:"BookList",components:{BookItem:G,BookDialog:nt},props:["books"],data:function(){return{dialogVisible:!1}},computed:Object(s["a"])({},Object(c["c"])(["getCurrentBook"]))},lt=it,st=Object(v["a"])(lt,P,F,!1,null,null,null),ct=st.exports;p()(st,{VContainer:b["a"],VRow:at["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.setBooks(t.text)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"10"}},[a("v-text-field",{attrs:{placeholder:"Javascript",label:"Название книги",color:"teal",filled:"",counter:50,rules:[t.rules.required,t.rules.counter]},model:{value:t.text,callback:function(e){t.text="string"===typeof e?e.trim():e},expression:"text"}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{staticClass:"white--text",attrs:{type:"submit",disabled:t.getLoading||!t.valid,loading:t.getLoading,"x-large":"",elevation:"3",color:"teal"}},[t._v("Отправить")])],1)],1)],1)],1)},dt=[],vt={name:"SearchForm",data:function(){return{text:"",valid:!0,rules:{required:function(t){return!!t||"Не заполнено"},counter:function(t){return t.length<=50||"Не более 50-ти символов"}}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["e"])(["loading"])),Object(c["c"])(["getLoading"])),methods:Object(s["a"])({},Object(c["b"])(["setBooks"]))},mt=vt,pt=Object(v["a"])(mt,ut,dt,!1,null,null,null),ft=pt.exports;p()(pt,{VBtn:M["a"],VCol:N["a"],VContainer:b["a"],VForm:et["a"],VRow:at["a"],VTextField:ot["a"]});var bt={name:"MainPage",components:{BookDialog:nt,SearchForm:ft,BookList:ct},data:function(){return{searchText:"",currentBook:{},dialogVisible:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(c["c"])(["getLoading","getSearchBooks","getSearchText"])),Object(c["e"])(["loading","books"])),methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["setBooks"])),{},{openBookDialog:function(t){this.currentBook=t,this.dialogVisible=!0}})},gt=bt,ht=a("8e36"),kt=Object(v["a"])(gt,$,D,!1,null,null,null),xt=kt.exports;p()(kt,{VCard:H["a"],VCardText:J["a"],VContainer:b["a"],VDialog:tt["a"],VDivider:U["a"],VProgressLinear:ht["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart my-5"},[a("v-container",[a("h2",{staticClass:"text-center my-5"},[t._v("Выбранные книги")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.getCartItems},scopedSlots:t._u([{key:"item.image",fn:function(t){var e=t.item;return[a("v-img",{attrs:{contain:"",width:"100","aspect-ratio":"0.5",src:e.image}})]}}])}),t.getTotal?a("v-card-title",{staticClass:"justify-end mt-3 pr-2"},[t._v("Сумма: "+t._s(t.getTotal)+" UAH")]):t._e(),a("v-divider",{staticClass:"my-5"}),a("v-row",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"text-center white--text mt-2",attrs:{color:"teal","x-large":"",disabled:!t.getCartItems.length},on:{click:t.checkout}},[t._v("Заказать")])],1)],1)],1)},Ct=[],Vt={name:"CartPage",data:function(){return{headers:[{text:"Книга",align:"start",sortable:!1,value:"image"},{text:"Описание",value:"description"},{text:"Цена",value:"price"}]}},computed:Object(s["a"])({},Object(c["c"])(["getCartItems","getTotal"])),methods:Object(s["a"])(Object(s["a"])({},Object(c["d"])(["setTotal","showAlert"])),{},{checkout:function(){this.setTotal(this.getTotal),this.showAlert(),this.$store.dispatch("hideAlert"),this.$router.push("/")}})},yt=Vt,Ot=a("8fea"),jt=Object(v["a"])(yt,_t,Ct,!1,null,null,null),Bt=jt.exports;p()(jt,{VBtn:M["a"],VCardTitle:J["b"],VContainer:b["a"],VDataTable:Ot["a"],VDivider:U["a"],VImg:K["a"],VRow:at["a"]}),o["a"].use(A["a"]);var wt=[{path:"/",name:"Main",component:xt},{path:"/cart",name:"Cart",component:Bt}],Tt=new A["a"]({mode:"history",routes:wt}),It=Tt,St=(a("99af"),a("bc3a")),Lt=a.n(St),At=(a("d81d"),a("a15b"),a("ac1f"),a("1276"),a("a4d3"),a("e01a"),"https://www.googleapis.com/books/v1/volumes?q="),$t=function(t){return t.map((function(t){return Dt(t)}))},Dt=function(t){var e,a,o,r,n;return{id:t.id,title:t.volumeInfo.title,image:(null===(e=t.volumeInfo.imageLinks)||void 0===e?void 0:e.thumbnail)||"https://brodilla.com/assets/images/browsers/pictures/epic_browser_1_2.png",authors:null===(a=t.volumeInfo.authors)||void 0===a?void 0:a.join(", "),publishedDate:null===(o=t.volumeInfo.publishedDate)||void 0===o?void 0:o.split("-").reverse().join("."),description:t.volumeInfo.description,price:(null===(r=t.saleInfo.listPrice)||void 0===r?void 0:r.amount)||0,currency:(null===(n=t.saleInfo.listPrice)||void 0===n?void 0:n.currencyCode)||"UAH"}},Pt={state:{books:[],currentBook:{image:"",description:""},loading:!1,searchText:"",alert:!1},getters:{getSearchBooks:function(t){var e=t.books;return e},getLoading:function(t){var e=t.loading;return e},getSearchText:function(t){var e=t.searchText;return e},getCurrentBook:function(t){var e=t.currentBook;return e},getAlert:function(t){var e=t.alert;return e}},mutations:{setBooks:function(t,e){t.books=e},setLoadingTrue:function(t){t.loading=!0},setLoadingFalse:function(t){t.loading=!1},setSearchText:function(t,e){t.searchText=e},setCurrentBook:function(t,e){t.currentBook=e},showAlert:function(t){t.alert=!0},hideAlert:function(t){t.alert=!1}},actions:{setBooks:function(t,e){var a=t.commit;a("setLoadingTrue"),a("setSearchText",e),Lt.a.get("".concat(At).concat(e)).then((function(t){a("setBooks",$t(t.data.items)),a("setLoadingFalse")})).catch((function(t){a("setLoadingFalse"),console.error(t)}))},hideAlert:function(t){var e=t.commit;setTimeout((function(){e("hideAlert")}),5e3)}}},Ft={state:{cartItems:[],totalOrder:0},getters:{getCartItems:function(t){var e=t.cartItems;return e},getTotal:function(t){var e=t.cartItems;return e.reduce((function(t,e){return t+e.price}),0)},getTotalOrder:function(t){var e=t.totalOrder;return e}},mutations:{addBookToCart:function(t,e){var a=e.image,o=e.description,r=e.price,n=e.currency;t.cartItems.push({image:a,description:o,price:r,currency:n})},setTotal:function(t,e){t.totalOrder=e,t.cartItems=[]}}};o["a"].use(c["a"]);var Et=new c["a"].Store({modules:{book:Pt,cart:Ft}}),Rt=a("f309");o["a"].use(Rt["a"]);var Xt=new Rt["a"]({});o["a"].config.productionTip=!1,o["a"].prototype.axios=Lt.a,new o["a"]({router:It,store:Et,vuetify:Xt,render:function(t){return t(L)}}).$mount("#app")},8325:function(t,e,a){}});
//# sourceMappingURL=app.c79b9005.js.map