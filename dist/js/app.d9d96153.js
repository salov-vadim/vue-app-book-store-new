(function(t){function e(e){for(var n,a,l=e[0],i=e[1],b=e[2],s=0,j=[];s<l.length;s++)a=l[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&j.push(r[a][0]),r[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(j.length)j.shift()();return o.push.apply(o,b||[]),c()}function c(){for(var t,e=0;e<o.length;e++){for(var c=o[e],n=!0,l=1;l<c.length;l++){var i=c[l];0!==r[i]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=c[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=t,a.c=n,a.d=function(t,e,c){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(c,n,function(e){return t[e]}.bind(null,n));return c},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var b=0;b<l.length;b++)e(l[b]);var u=i;o.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"3bc1":function(t,e,c){},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r={class:"container"};function o(t,e,c,o,a,l){var i=Object(n["A"])("Navbar"),b=Object(n["A"])("router-view"),u=Object(n["A"])("Alert");return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["j"])(i),Object(n["h"])("div",r,[Object(n["j"])(b,null,{default:Object(n["H"])((function(t){var e=t.Component;return[Object(n["j"])(n["b"],{"enter-active-class":"animate__animated animate__bounceInLeft"},{default:Object(n["H"])((function(){return[(Object(n["t"])(),Object(n["e"])(Object(n["B"])(e)))]})),_:2},1024)]})),_:1}),Object(n["j"])(u)])],64)}var a=c("5502"),l={class:"navbar navbar-dark bg-dark"},i={class:"container-fluid"},b=Object(n["i"])("BOOKSTORE"),u={class:"navbar-nav"},s=Object(n["h"])("i",{class:"bi bi-cart4 mr-4",style:{"font-size":"20px",color:"beige"}},null,-1),j={setup:function(t){var e=Object(a["b"])(),c=Object(n["c"])((function(){return e.getters.getCartItems.length})),r=Object(n["c"])((function(){return e.getters.getTotal}));return function(t,e){var o=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["g"])("nav",l,[Object(n["h"])("div",i,[Object(n["j"])(o,{class:"navbar-brand",to:"/"},{default:Object(n["H"])((function(){return[b]})),_:1}),Object(n["h"])("div",u,[Object(n["j"])(o,{class:"nav-link",to:"/cart",style:{color:"teal"}},{default:Object(n["H"])((function(){return[s,Object(n["i"])(" "+Object(n["D"])(Object(n["E"])(c))+" (книг) "+Object(n["D"])(Object(n["E"])(r))+" ₴ ",1)]})),_:1})])])])}}};const O=j;var d=O,f={key:0,class:"alert alert-dark",style:{position:"fixed",left:"40%",top:"0"}},v={setup:function(t){var e=Object(a["b"])();return function(t,c){return Object(n["t"])(),Object(n["e"])(n["b"],{name:"fade"},{default:Object(n["H"])((function(){return[Object(n["E"])(e).getters.getAlert?(Object(n["t"])(),Object(n["g"])("div",f," Ваш заказ на сумму "+Object(n["D"])(Object(n["E"])(e).getters.getTotalOrder)+" ₴ оформлен! ",1)):Object(n["f"])("",!0)]})),_:1})}}},h=(c("a439"),c("d959")),m=c.n(h);const p=m()(v,[["__scopeId","data-v-26f088ea"]]);var g=p,y={components:{Alert:g,Navbar:d}};const k=m()(y,[["render",o]]);var E=k,x=c("6c02"),T=c("3835"),w=(c("4fad"),c("4de4"),c("b64b"),c("d81d"),function(t){return!t});function _(t){var e=Object(n["y"])(!0),c=Object(n["y"])(t.value),r=Object(n["y"])(!1),o=Object(n["x"])({}),a=function(c){var n;e.value=!0,Object.keys(null!==(n=t.validators)&&void 0!==n?n:{}).map((function(n){var r=t.validators[n](c);o[n]=w(r),w(r)&&(e.value=!1)}))};return Object(n["G"])(c,a),a(t.value),{value:c,valid:e,errors:o,touched:r,blur:function(){return r.value=!0}}}function B(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(n["x"])({}),c="valid",r=0,o=Object.entries(t);r<o.length;r++){var a=Object(T["a"])(o[r],2),l=a[0],i=a[1];e[l]=_(i)}var b=function(t){return t!==c};return e[c]=Object(n["c"])((function(){return Object.keys(e).filter(b).every((function(t){return e[t].valid}))})),e}var I=function(t){return!!t},D=function(t){return function(e){return e.length>=t}},A=function(t){return/.+@.+\..+/.test(t)},S=function(t){return/^\+?3?8?(0\d{9})$/.test(t)},L=["onSubmit"],C={class:"col-8"},P={key:0,class:"invalid-feedback"},F={class:"col-auto"},H=["disabled"],q={key:1,class:"btn btn-primary",type:"button",disabled:""},U=Object(n["h"])("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),z=Object(n["i"])(" Загрузка... "),J=[U,z],M={setup:function(t){var e=Object(a["b"])(),c=B({searchText:{value:"",validators:{required:I,minLength:D(2)}}}),r=Object(n["c"])((function(){return c.searchText.touched&&!c.searchText.valid})),o=Object(n["c"])((function(){return e.getters.getLoading})),l=function(){return e.dispatch("setBooks",c.searchText.value)};return function(t,e){return Object(n["t"])(),Object(n["g"])("form",{class:"row align-items-top mt-5",onSubmit:Object(n["J"])(l,["prevent"])},[Object(n["h"])("div",C,[Object(n["I"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return Object(n["E"])(c).searchText.value=t}),onBlur:e[1]||(e[1]=function(){var t;return Object(n["E"])(c).searchText.blur&&(t=Object(n["E"])(c).searchText).blur.apply(t,arguments)}),class:Object(n["p"])(["form-control",{"is-invalid":Object(n["E"])(r)}]),placeholder:"Название книги"},null,34),[[n["F"],Object(n["E"])(c).searchText.value,void 0,{trim:!0}]]),Object(n["E"])(r)?(Object(n["t"])(),Object(n["g"])("small",P," Значение не может быть пустым и должно содержать минимум 2 символа ")):Object(n["f"])("",!0)]),Object(n["h"])("div",F,[Object(n["E"])(o)?(Object(n["t"])(),Object(n["g"])("button",q,J)):(Object(n["t"])(),Object(n["g"])("button",{key:0,type:"submit",class:"btn btn-primary",disabled:!Object(n["E"])(c).valid}," Поиск ",8,H))])],40,L)}}};const V=M;var N=V,$={class:"col-xl-3 col-lg-4 col-sm-6 mb-4"},G={class:"card align-items-center",style:{"min-height":"100%"}},K=["src"],R={class:"card-body"},Q=Object(n["h"])("hr",null,null,-1),W={class:"card-title mb-3"},X={class:"card-subtitle mb-3 text-muted text-center"},Y=Object(n["h"])("hr",null,null,-1),Z={class:"card-subtitle mb-2 text-muted text-center"},tt={key:1,class:"btn btn-primary mb-4",disabled:""},et={props:{book:Object},emits:["openBook"],setup:function(t,e){var c=e.emit,r=t,o=function(){c("openBook",r.book)};return function(e,c){return Object(n["t"])(),Object(n["g"])("div",$,[Object(n["h"])("div",G,[Object(n["h"])("img",{src:t.book.image,style:{"object-fit":"cover","max-width":"250px"}},null,8,K),Object(n["h"])("div",R,[Q,Object(n["h"])("h5",W,Object(n["D"])(t.book.title),1),Object(n["h"])("h6",X," Авторы: "+Object(n["D"])(t.book.authors),1),Y,Object(n["h"])("h5",Z,Object(n["D"])(t.book.publishedDate),1)]),t.book.price>0?(Object(n["t"])(),Object(n["g"])("button",{key:0,class:"btn btn-primary mb-4",onClick:o},"Заказать ")):(Object(n["t"])(),Object(n["g"])("button",tt,"Нет в наличии "))])])}}};const ct=et;var nt=ct,rt=(c("b0c0"),c("a4d3"),c("e01a"),{class:"modal",tabindex:"-1",style:{display:"block"}}),ot={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},at={class:"modal-content"},lt={class:"modal-header"},it={class:"modal-title text-center"},bt={class:"modal-body"},ut=["src"],st=Object(n["h"])("hr",null,null,-1),jt={class:"modal-footer",style:{display:"block"}},Ot={class:"row"},dt={class:"mb-3 col"},ft={key:0,class:"invalid-feedback"},vt={class:"mb-3 col"},ht={key:0,class:"invalid-feedback"},mt={class:"mb-3"},pt={key:0,class:"invalid-feedback"},gt=["disabled"],yt={props:{book:Object},setup:function(t){var e=t,c=Object(a["b"])(),r=Object(x["c"])(),o=B({name:{value:"",validators:{required:I,minLength:D(2)}},email:{value:"",validators:{required:I,minLength:D(2),email:A}},phone:{value:"",validators:{required:I,minLength:D(2),phone:S}}}),l=Object(n["c"])((function(){return o.name.touched&&!o.name.valid})),i=Object(n["c"])((function(){return o.email.touched&&!o.email.valid})),b=Object(n["c"])((function(){return o.phone.touched&&!o.phone.valid})),u=function(){c.commit("addBookToCart",e.book),r.push("/cart")};return function(e,c){return Object(n["t"])(),Object(n["g"])("div",rt,[Object(n["h"])("div",ot,[Object(n["h"])("div",at,[Object(n["h"])("div",lt,[Object(n["h"])("h5",it,Object(n["D"])(t.book.title),1),Object(n["h"])("button",{type:"button",class:"btn-close",onClick:c[0]||(c[0]=function(t){return e.$emit("showDialog")})})]),Object(n["h"])("div",bt,[Object(n["h"])("img",{src:t.book.image,style:{"object-fit":"contain","max-width":"350px"}},null,8,ut),st,Object(n["h"])("p",null,Object(n["D"])(t.book.description),1)]),Object(n["h"])("div",jt,[Object(n["h"])("form",{onSubmit:c[7]||(c[7]=Object(n["J"])((function(){return e.submit&&e.submit.apply(e,arguments)}),["prevent"]))},[Object(n["h"])("div",Ot,[Object(n["h"])("div",dt,[Object(n["I"])(Object(n["h"])("input",{type:"text",name:"Имя",placeholder:"Имя",class:Object(n["p"])(["form-control",{"is-invalid":Object(n["E"])(l)}]),"onUpdate:modelValue":c[1]||(c[1]=function(t){return Object(n["E"])(o).name.value=t}),onBlur:c[2]||(c[2]=function(){var t;return Object(n["E"])(o).name.blur&&(t=Object(n["E"])(o).name).blur.apply(t,arguments)})},null,34),[[n["F"],Object(n["E"])(o).name.value]]),Object(n["E"])(l)?(Object(n["t"])(),Object(n["g"])("small",ft," Имя должно быть от 2-ух букв ")):Object(n["f"])("",!0)]),Object(n["h"])("div",vt,[Object(n["I"])(Object(n["h"])("input",{type:"email",class:Object(n["p"])(["form-control",{"is-invalid":Object(n["E"])(i)}]),name:"Email",placeholder:"Email",onBlur:c[3]||(c[3]=function(){var t;return Object(n["E"])(o).email.blur&&(t=Object(n["E"])(o).email).blur.apply(t,arguments)}),"onUpdate:modelValue":c[4]||(c[4]=function(t){return Object(n["E"])(o).email.value=t})},null,34),[[n["F"],Object(n["E"])(o).email.value]]),Object(n["E"])(i)?(Object(n["t"])(),Object(n["g"])("small",ht," Email должен быть валидным ")):Object(n["f"])("",!0)])]),Object(n["h"])("div",mt,[Object(n["I"])(Object(n["h"])("input",{type:"text",class:Object(n["p"])(["form-control",{"is-invalid":Object(n["E"])(b)}]),name:"Телефон",placeholder:"Телефон",onBlur:c[5]||(c[5]=function(){var t;return Object(n["E"])(o).phone.blur&&(t=Object(n["E"])(o).phone).blur.apply(t,arguments)}),"onUpdate:modelValue":c[6]||(c[6]=function(t){return Object(n["E"])(o).phone.value=t})},null,34),[[n["F"],Object(n["E"])(o).phone.value]]),Object(n["E"])(b)?(Object(n["t"])(),Object(n["g"])("small",pt," Телефон может начинаться на +38 и содержать только цифры и + ")):Object(n["f"])("",!0)]),Object(n["h"])("button",{type:"submit",class:"btn btn-primary",style:{display:"block",margin:"0 auto"},disabled:!Object(n["E"])(o).valid,onClick:u},"Заказать ",8,gt)],32)])])])])}}};const kt=yt;var Et=kt,xt={class:"row"},Tt={props:{books:Array},emits:["openBookForm"],setup:function(t,e){e.emit;var c=Object(n["y"])(!1),r=Object(n["y"])(),o=function(t){r.value=t,c.value=!0};return function(e,a){return Object(n["t"])(),Object(n["g"])(n["a"],null,[Object(n["h"])("div",xt,[(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(t.books,(function(t){return Object(n["t"])(),Object(n["e"])(Object(n["E"])(nt),{book:t,key:t.id,onOpenBook:o},null,8,["book"])})),128))]),Object(n["j"])(n["b"],{"enter-active-class":"animate__animated animate__zoomIn"},{default:Object(n["H"])((function(){return[c.value?(Object(n["t"])(),Object(n["e"])(Object(n["E"])(Et),{key:0,book:r.value,onShowDialog:a[0]||(a[0]=function(t){return c.value=!1})},null,8,["book"])):Object(n["f"])("",!0)]})),_:1})],64)}}};const wt=Tt;var _t=wt,Bt={class:"main"},It={key:0},Dt={key:0},At=Object(n["h"])("hr",{class:"my-3"},null,-1),St=Object(n["h"])("hr",{class:"my-3"},null,-1),Lt={key:1},Ct=Object(n["h"])("h4",{class:"mt-5"},'Для поиска книг введите текст и нажмите кнопку "Поиск"',-1),Pt=[Ct],Ft={key:1,class:"text-center my-5"},Ht=Object(n["h"])("div",{class:"spinner-border",role:"status"},[Object(n["h"])("span",{class:"visually-hidden"},"Loading...")],-1),qt=[Ht],Ut={setup:function(t){var e=Object(a["b"])(),c=Object(n["c"])((function(){return e.getters.getLoading})),r=Object(n["c"])((function(){return e.getters.getSearchBooks})),o=Object(n["c"])((function(){return e.getters.getSearchText}));return function(t,e){return Object(n["t"])(),Object(n["g"])("div",Bt,[Object(n["j"])(Object(n["E"])(N)),Object(n["E"])(c)?(Object(n["t"])(),Object(n["g"])("div",Ft,qt)):(Object(n["t"])(),Object(n["g"])("div",It,[Object(n["E"])(r).length>0?(Object(n["t"])(),Object(n["g"])("div",Dt,[At,Object(n["h"])("h2",null,'Результаты поиска по слову: "'+Object(n["D"])(Object(n["E"])(o))+'"',1),St,Object(n["j"])(Object(n["E"])(_t),{books:Object(n["E"])(r)},null,8,["books"])])):(Object(n["t"])(),Object(n["g"])("div",Lt,Pt))]))])}}};const zt=Ut;var Jt=zt,Mt={class:"cart"},Vt=Object(n["h"])("h1",{class:"text-center my-4"}," Заказанные книги ",-1),Nt={class:"table"},$t=Object(n["h"])("thead",{class:"thead-light"},[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"Книга"),Object(n["h"])("th",{scope:"col",style:{"text-align":"center"}},"Описание"),Object(n["h"])("th",{scope:"col"},"Цена")])],-1),Gt=["src"],Kt={style:{"min-width":"80px"}},Rt={class:"text-end"},Qt={class:"d-flex justify-content-center my-3"},Wt=["disabled"],Xt={setup:function(t){var e=Object(a["b"])(),c=Object(x["c"])(),r=Object(n["c"])((function(){return e.getters.getCartItems})),o=Object(n["c"])((function(){return e.getters.getTotal})),l=function(){e.commit("setTotal",o.value),e.commit("showAlert"),e.dispatch("hideAlert"),c.push("/")};return function(t,e){return Object(n["t"])(),Object(n["g"])("div",Mt,[Vt,Object(n["h"])("table",Nt,[$t,Object(n["h"])("tbody",null,[(Object(n["t"])(!0),Object(n["g"])(n["a"],null,Object(n["z"])(Object(n["E"])(r),(function(t){return Object(n["t"])(),Object(n["g"])("tr",null,[Object(n["h"])("td",null,[Object(n["h"])("img",{src:t.image,alt:""},null,8,Gt)]),Object(n["h"])("td",null,Object(n["D"])(t.description),1),Object(n["h"])("td",Kt,Object(n["D"])(t.price)+" ₴",1)])})),256))])]),Object(n["h"])("h4",Rt,"Сумма: "+Object(n["D"])(Object(n["E"])(o))+" ₴",1),Object(n["h"])("div",Qt,[Object(n["h"])("button",{class:"btn btn-primary",disabled:0===Object(n["E"])(r).length,onClick:l},"Оформить заказ",8,Wt)])])}}};const Yt=Xt;var Zt=Yt,te=[{path:"/",component:Jt},{path:"/cart",component:Zt}],ee=Object(x["a"])({history:Object(x["b"])("/"),routes:te}),ce=ee,ne=(c("d3b7"),c("99af"),c("a15b"),c("ac1f"),c("1276"),"https://www.googleapis.com/books/v1/volumes?q="),re="https://us.123rf.com/450wm/urfandadashov/urfandadashov1805/urfandadashov180500070/100957966-photo-not-available-icon-isolated-on-white-background-vector-illustration.jpg?ver=6",oe=function(t){return t.map((function(t){return ae(t)}))},ae=function(t){var e,c,n,r,o;return{id:t.id,title:t.volumeInfo.title,image:(null===(e=t.volumeInfo.imageLinks)||void 0===e?void 0:e.thumbnail)||re,authors:null===(c=t.volumeInfo.authors)||void 0===c?void 0:c.join(", "),publishedDate:null===(n=t.volumeInfo.publishedDate)||void 0===n?void 0:n.split("-").reverse().join("."),description:t.volumeInfo.description,price:(null===(r=t.saleInfo.listPrice)||void 0===r?void 0:r.amount)||0,currency:(null===(o=t.saleInfo.listPrice)||void 0===o?void 0:o.currencyCode)||"UAH"}},le={state:{books:[],currentBook:{image:"",description:"https://brodilla.com/assets/images/browsers/pictures/epic_browser_1_2.png"},loading:!1,searchText:"",alert:!1},getters:{getSearchBooks:function(t){var e=t.books;return e},getLoading:function(t){var e=t.loading;return e},getSearchText:function(t){var e=t.searchText;return e},getCurrentBook:function(t){var e=t.currentBook;return e},getAlert:function(t){var e=t.alert;return e}},mutations:{setBooks:function(t,e){t.books=e},setLoadingTrue:function(t){t.loading=!0},setLoadingFalse:function(t){t.loading=!1},setSearchText:function(t,e){t.searchText=e},setCurrentBook:function(t,e){t.currentBook=e},showAlert:function(t){t.alert=!0},hideAlert:function(t){t.alert=!1}},actions:{setBooks:function(t,e){var c=t.commit;c("setLoadingTrue"),c("setSearchText",e),fetch("".concat(ne).concat(e)).then((function(t){return t.json()})).then((function(t){c("setBooks",oe(t.items)),c("setLoadingFalse")})).catch((function(t){c("setLoadingFalse"),console.error(t)}))},hideAlert:function(t){var e=t.commit;setTimeout((function(){e("hideAlert")}),5e3)}}},ie={state:{cartItems:[],totalOrder:0},getters:{getCartItems:function(t){var e=t.cartItems;return e},getTotal:function(t){var e=t.cartItems;return e.reduce((function(t,e){return t+e.price}),0)},getTotalOrder:function(t){var e=t.totalOrder;return e}},mutations:{addBookToCart:function(t,e){var c=e.image,n=e.description,r=e.price,o=e.currency;t.cartItems.push({image:c,description:n,price:r,currency:o})},setTotal:function(t,e){t.totalOrder=e,t.cartItems=[]}}},be=Object(a["a"])({modules:{book:le,cart:ie}}),ue=Object(n["d"])(E);ue.use(be).use(ce).mount("#app")},a439:function(t,e,c){"use strict";c("3bc1")}});
//# sourceMappingURL=app.d9d96153.js.map